<!DOCTYPE html>
<html>
<head>
    <% var brandTitle = suite.brandTitle || 'Cucumberjs Report' %>
    <title><%= suite.name.plain %> â€“ <%= brandTitle %></title>
    <link crossorigin="anonymous" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.4.0/css/bootstrap.min.css"
          integrity="sha256-/ykJw/wDxMa0AQhHDYfuMEwVb4JHMx9h4jD4XvHqVzU=" rel="stylesheet"/>
    <link crossorigin="anonymous" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/css/all.min.css"
          integrity="sha256-h20CPZ0QyXlBuAw7A+KluUYx/3pK+c7lYEpqLTlxjYQ=" rel="stylesheet"/>
    <style type="text/css">
      <%= styles %>
    </style>
    <meta charset="UTF-8">
</head>
<body>

<div class="navbar navbar-light bg-light navbar-static-top" role="navigation">
    <a class="navbar-brand"><%= brandTitle %> <span class="text-muted"><%= suite.name.plain %></span></a>
    <span class="navbar-text">
          <span class="badge badge-success" onclick="toggle('.feature-passed')">Passed: <%= suite.passed %></span>
        <span class="badge badge-danger" onclick="toggle('.feature-failed')">Failed: <%= suite.failed %></span>
    </span>
</div>

<div class="container">
    <div class="text-muted generated-on float-right"><%= suite.time %></div>

    <div class="row">
        <div class="chart col" id="piechart_features"></div>
        <div class="chart col" id="piechart_scenarios"></div>
    </div>

    <div class="row mb-3">
        <% if (suite.metadata) { %>
        <div class="col">
        <div class="card">
            <div class="card-body">
                <h4 class="card-title p-0 m-0">
                    <a data-toggle="collapse" href="#logOutput">
                        <i class="fas fa-chevron-right"></i>
                        <i class="fas fa-chevron-down"></i>
                        <b>Metadata</b>
                    </a>
                </h4>
                <div class="collapse" id="logOutput">
                    <div class="d-flex flex-row flex-wrap">
                        <% _.map(suite.metadata, function(value, key) { %>
                            <div style="flex: 1 0 45%;">
                                <strong> <%= key %>: </strong><%= value %>
                            </div>
                        <% }) %>
                    </div>
                </div>
            </div>
        </div>
        </div>
        <% } %>
        <div class="col-4 d-flex flex-row py-2" style="justify-content: space-evenly">
                    <button class="btn btn-outline-primary js-btn-expand-all" role="button"><i class="fas fa-expand-arrows-alt"></i> Expand all </button>
                    <button class="btn btn-outline-secondary js-btn-collapse-all" role="button"><i class="fas fa-compress-arrows-alt"></i> Collapse all </button>
        </div>

    </div>

    <%= features %>

</div>

<footer class="footer mt-5">
    <div class="container">
        <a href="https://www.npmjs.com/package/cucumber-html-reporter" rel="noopener noreferrer" target="_blank">
            <div class="text-muted footer-link">
                generated by @cucumber-html-reporter
            </div>
        </a>
    </div>
</footer>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.slim.min.js" integrity="sha256-pasqAKBDmFT4eHoN2ndd6lN370kFiGUFyTiUHWhU7k8=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.1/umd/popper.min.js" integrity="sha256-/ijcOLwFf26xEYAjW75FizKVo5tnTYiQddPZoLUHHZ8=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.4.0/js/bootstrap.min.js" integrity="sha256-oKpAiD7qu3bXrWRVxnXLV1h7FlNV+p5YJBIr8LOCFYw=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.5.1/moment.min.js"></script>
    <script type="text/javascript" src="https://www.google.com/jsapi"></script>
    <script type="text/javascript">
        google.load("visualization", "1", {packages: ["corechart"]});
        google.setOnLoadCallback(function() {drawChart({
                                                            "title" : "Features",
                                                            "failed" : <%= suite.features.summary.failed %>,
                                                            "passed" : <%= suite.features.summary.passed %>,
                                                            "notdefined" : <%= suite.features.summary.notdefined %>,
                                                            "pending" : <%= suite.features.summary.pending %>,
                                                            "skipped" : <%= suite.features.summary.skipped %>,
                                                            "ambiguous" : <%= suite.features.summary.ambiguous %>
                                                        })
                                            });
        google.setOnLoadCallback(function() {drawChart({
                                                            "title" : "Scenarios",
                                                            "failed" : <%= suite.scenarios.failed %>,
                                                            "passed" : <%= suite.scenarios.passed %>,
                                                            "notdefined" : <%= suite.scenarios.notdefined %>,
                                                            "pending" : <%= suite.scenarios.pending %>,
                                                            "skipped" : <%= suite.scenarios.skipped %>,
                                                            "ambiguous" : <%= suite.scenarios.ambiguous %>
                                                        })
                                            });
    </script>
    <script>
      <%= script %>
      <%= piechart %>
      <%= screenshot %>
    </script>
  </body>
</html>
